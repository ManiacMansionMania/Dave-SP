// Flur (Familie Miller)

/****************************
*   Raum-Funktionen
****************************/
function room_Load()
{
	//oTuerDave.init_object(1);
	Door[0].Init(oTuerDave, hTuerDave);

	oTuerKeller.init_object(2);
	oTuerSchlafzimmer.init_object(3);

	PlayMusic(13);
}


/****************************
*   Tür-Hotspot-Funktionen
****************************/
function hTuerDave_AnyClick()
{
/*
	if ( !cDave.SetDoorStrings("Die Tür zu meinem Zimmer.", "", "Damit klappt das nicht.") )
	{
		SetDoorStrings("Die Tür zu Daves Zimmer.", "", "Damit klappt das nicht.");
	}
	if ( any_click_on_door(1, oTuerDave, 33, 137, eDirLeft, 5, 277, 123, eDirLeft) == 0 ) Unhandled();
	SetDoorStrings("", "", ""); // strings leeren, um beim Vergessen keinen falschen Satz sagen zu lassen.
*/
	if ( player == cDave )
	{
		Door[0].s_NewLookAt = "Die Tür zu meinem Zimmer.";
	}
	else
	{
		Door[0].s_NewLookAt = "Die Tür zu Daves Zimmer.";
	}

	if ( Door[0].Click() == 0 ) Unhandled();
}

function hTuerKeller_AnyClick()
{
	SetDoorStrings("Die Kellertür.", "", "Damit klappt das nicht.");
	if ( any_click_on_door(2, oTuerKeller, 80, 130, eDirUp, 7, 70, 30, eDirDown) == 0 ) Unhandled();
	SetDoorStrings("", "", ""); // strings leeren, um beim Vergessen keinen falschen Satz sagen zu lassen.
}

function hTuerSchlafzimmer_AnyClick()
{
	SetDoorStrings("Da gehts zum Schlafzimmer meiner Eltern.", "", "Damit klappt das nicht.");
	if ( any_click_on_door(3, oTuerSchlafzimmer, 291, 134, eDirRight, 8, 40, 125, eDirRight) == 0 ) Unhandled();
	SetDoorStrings("", "", ""); // strings leeren, um beim Vergessen keinen falschen Satz sagen zu lassen.
}

function hWohnzimmer_AnyClick()
{
	if (any_click_move(221, 127, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
			Wait(5);
			player.EnterRoom(10, 93, 101, eDirDown);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			player.Say("Unser Wohnzimmer.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("Hier gibt es nichts, außer dem Wohnzimmer.");
		}
		else if (UsedAction(eActUse))
		{
			Wait(5);
			player.Say("Ich kann einfach da durch gehen.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			player.Say("Das brauche ich nicht, es ist eh offen.");
			player.FaceDirection(eDirDown);
			player.Say("Praktisch, was?");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			player.Say("Oh Wunder, sie bleibt immer offen.");
		}
		else if (UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Ich will nicht hinfallen, wenn ich etwas anfasse, was noch nicht mal existiert.");
		}
		else Unhandled();
	}
}


/****************************
*   Objekt-Funktionen
****************************/
function oSchranktuerLinks_AnyClick()
{
	if (any_click_move(149, 136, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			player.Say("Leer.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("Nein Danke, sonst kriege ich Ärger mit meinen Eltern.");
		}
		else if (UsedAction(eActUse) || UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Man kann auch eine Schranktür 'öffnen' oder 'schließen'.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			player.Say("Die ist doch schon offen.");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			PlaySound(5);
			oSchranktuerLinks.Visible = false;
		}
		else Unhandled();
	}
}

function oSchranktuerRechts_AnyClick()
{
	if (any_click_move(149, 136, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			player.Say("Leer.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("Nein Danke, sonst kriege ich Ärger mit meinen Eltern.");
		}
		else if (UsedAction(eActUse) || UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Man kann auch eine Schranktür 'öffnen' oder 'schließen'.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			player.Say("Die ist doch schon offen.");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			PlaySound(5);
			oSchranktuerRechts.Visible = false;
		}
		else Unhandled();
	}
}

function oTelefonOhneHoehrer_AnyClick()
{
	if (any_click_move(149, 136, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			player.Say("Unser verdrahtetes Telefon.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("Ich bin doch mobil.");
		}
		else if (UsedAction(eActUse))
		{
			Wait(5);
			PlaySound(4);
			oTelefonhoehrer.Visible = false;
			Wait(15);
			player.Say("Die Leitung scheint tot zu sein.");
			PlaySound(89);
			oTelefonhoehrer.Visible = true;
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			player.Say("Wenn Bernard hier wäre, der würde sowas glatt machen.");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			player.Say("Lass mal, ist besser so.");
		}
		else if (UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Und womit soll ich noch telefonieren, wenn das Ding kaputt geht?");
			Wait(5);
			player.FaceDirection(eDirDown);
			player.Say("Oops, stimmt ja, ich hab ja noch meinen Handy.");
		}
		else Unhandled();
	}
}

function oBild_AnyClick()
{
	if (any_click_move(149, 136, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			player.Say("Das ist ein Bild mit mir und meinen Eltern, als wir in Kanada Urlaub machten.");
			player.Say("Da war ich neun Jahre alt.");
			player.Say("Ach ja, was waren das noch für Zeiten ...");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("Ich hab das Bild immernoch in meinem Kopf.");
		}
		else if (UsedAction(eActUse))
		{
			Wait(5);
			player.Say("Das Bild bleibt am besten da, wo es ist.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			player.Say("Bilder öffnen sich nicht von selbst, oder was?!?");
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			player.Say("Ne, ne, so nicht.");
		}
		else if (UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Ich will dieses Andenken auf keinen Fall beschädigen.");
		}
		else Unhandled();
	}
}


/****************************
*   Hotspot-Funktionen
****************************/
function hSchranktuerLinks_AnyClick()
{
	if (any_click_move(149, 136, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			player.Say("Eine Schranktür.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("Nein Danke, sonst kriege ich Ärger mit meinen Eltern.");
		}
		else if (UsedAction(eActUse) || UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Man kann auch eine Schranktür 'öffnen' oder 'schließen'.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			PlaySound(1);
			oSchranktuerLinks.Visible = true;
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			player.Say("Die ist doch schon zu.");
		}
		else Unhandled();
	}
}

function hSchranktuerRechts_AnyClick()
{
	if (any_click_move(149, 136, eDirUp))
	{
		if (UsedAction(eActWalkTo))
		{
		//	Wait(5);
		}
		else if (UsedAction(eActLookAt))
		{
			Wait(5);
			player.Say("Eine Schranktür.");
		}
		else if (UsedAction(eActPickUp))
		{
			Wait(5);
			player.Say("Nein Danke, sonst kriege ich Ärger mit meinen Eltern.");
		}
		else if (UsedAction(eActUse) || UsedAction(eActPull) || UsedAction(eActPush))
		{
			Wait(5);
			player.Say("Man kann auch eine Schranktür 'öffnen' oder 'schließen'.");
		}
		else if (UsedAction(eActOpen))
		{
			Wait(5);
			PlaySound(1);
			oSchranktuerRechts.Visible = true;
		}
		else if (UsedAction(eActClose))
		{
			Wait(5);
			player.Say("Die ist doch schon zu.");
		}
		else Unhandled();
	}
}


/****************************
*   Regionen-Funktionen
****************************/
